# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  core: core.yml
  agent: core.agent.yaml

service:
  auth: false
  base-path: /agents
  endpoints:
    list:
      audiences:
        - admin
        - client
      path: ''
      method: GET
      docs: Returns a list of agents that belong to the current organization. The agents are returned sorted by creation date, with the most recently created agents appearing first.
      display-name: List all agents
      response: AgentsList
      errors:
        - core.InternalError

    get:
      audiences:
        - admin
        - client
      path: /{agent_id}
      method: GET
      docs: Retrieves the agent with the given ID.
      display-name: Retrieve an agent
      path-parameters:
        agent_id: agent.AgentId
      response: agent.Agent
      errors:
        - core.ResourceNotFoundError
        - core.InternalError

    create:
      audiences:
        - admin
      path: ''
      method: POST
      docs: Creates a new agent with the given properties.
      display-name: Create an agent
      request:
        name: CreateAgentRequest
        body: agent.AgentCreateParams
      response: agent.Agent
      errors:
        - core.InvalidRequestError
        - core.ForbiddenError
        - core.InternalError

    update:
      audiences:
        - admin
      path: /{agent_id}
      method: POST
      docs: Updates the properties of the specified agent. Only the provided properties will be updated. Any properties not provided will be left unchanged.
      display-name: Update an agent
      path-parameters:
        agent_id: agent.AgentId
      request:
        name: UpdateAgentRequest
        body: agent.AgentUpdateParams
      response: agent.Agent
      errors:
        - core.InvalidRequestError
        - core.ForbiddenError
        - core.ResourceNotFoundError
        - core.InternalError
        - core.ServiceUnavailableError

types:
  AgentsList:
    properties:
      data: list<agent.Agent>
